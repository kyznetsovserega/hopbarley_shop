{% extends "base.html" %}
{% load static %}

{% block title %}Change Password | Hop & Barley{% endblock %}

{% block content %}

<main class="auth-page-wrapper">

  <!-- Background -->
  <div class="auth-background">
    <img src="{% static 'img/background/pattern.jpg' %}" alt="Background">
  </div>

  <div class="auth-form-container">
    <div class="auth-container auth-container--change-password">

      <h1 class="auth-title">Change Password</h1>

      <form method="post" class="auth-form">
        {% csrf_token %}

        <!-- GLOBAL ERRORS -->
        {% if form.non_field_errors %}
        <div class="auth-error">
          {% for error in form.non_field_errors %}
            <p class="field-error">{{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}

        <!-- OLD PASSWORD -->
        <div class="InputField">
          <label for="id_old_password">Current Password</label>
          <input type="password"
                 id="id_old_password"
                 name="old_password"
                 class="Input"
                 placeholder="Enter current password"
                 autocomplete="current-password"
                 required>
          {% if form.old_password.errors %}
            <p class="field-error">{{ form.old_password.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- NEW PASSWORD1 -->
        <div class="InputField">
          <label for="id_new_password1">New Password</label>
          <input type="password"
                 id="id_new_password1"
                 name="new_password1"
                 class="Input"
                 placeholder="Enter new password"
                 autocomplete="new-password"
                 required>
          {% if form.new_password1.errors %}
            <p class="field-error">{{ form.new_password1.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- NEW PASSWORD2 -->
        <div class="InputField">
          <label for="id_new_password2">Repeat New Password</label>
          <input type="password"
                 id="id_new_password2"
                 name="new_password2"
                 class="Input"
                 placeholder="Repeat new password"
                 autocomplete="new-password"
                 required>
          {% if form.new_password2.errors %}
            <p class="field-error">{{ form.new_password2.errors.0 }}</p>
          {% endif %}
        </div>

        <!-- BUTTONS -->
        <div class="ButtonGroup ButtonGroup--center">
          <a href="{% url 'users:account' %}" class="button button--cancel">Cancel</a>
          <button type="submit" class="button button--primary">Save Password</button>
        </div>

      </form>

    </div>
  </div>

</main>

{% endblock %}

{% block scripts %}
<script src="{% static 'js/main.js' %}"></script>
{% endblock %}
